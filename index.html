<!DOCTYPE html>
<html lang="ja" style="--vh: 8.58px;">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="index.css">
  <!-- <script type="text/javascript" src="main.js"></script> -->
  <!-- UAL Data Layer -->


  <body>
    <div class="mainPage">
      <div class="toppr">
        <img class="test-image" src="media/Frame 12.png">
     </div>

     <!--Container: Campaign + Coupon-->
     <div class="container" id="container">
      <div class="campaignMessage">学んでトクトク！おでかけ投票キャンペーン</div>
      <div class="items-container" id="items-container">
        <div class="item">
          <img class="test-image" src="media/Group 42.png">
        </div>
        <div class="item">
          <img class="test-image"  src="media/Group 43.png">
        </div>
        <div class="item">
          <img class="test-image"  src="media/Group 44.png">
        </div>
        <div class="item">
          <img class="test-image"  src="media/Group 45.png">
        </div>
        <div class="item">
          <img class="test-image"  src="media/Group 46.png">
        </div>
        <div class="item">
          <img class="test-image"  src="media/Group 46.png">
        </div>
        <div class="item">
          <img class="test-image"  src="media/Group 46.png">
        </div>
        <div class="item">
          <img class="test-image"  src="media/Group 46.png">
        </div>
        <div class="item">
          <img class="test-image" src="media/Group 46.png">
        </div>
        <div class="item">
          <img class="test-image"  src="media/Group 46.png">
        </div>
        <div class="item">
          <img class="test-image"  src="media/Group 46.png">
        </div>
        <div class="item">
          <img class="test-image"  src="media/Group 46.png">
        </div>
      </div>
      <div class="couponLink">

        公式LINEでクーポンを獲得しよう
      </div>
    </div> 
    <div class="other">
      <img class="test-image" src="media/Frame 13.png" >
    </div> 
    
    </div>
    


  <script>
    // let container = document.querySelector(".container");
    // let innerContainer = document.querySelector(".items-container");

    let container = document.getElementById("container");
    let innerContainer = document.getElementById("items-container");
    
    
    let pressed = false;
    let startX;
    let x;
    // container.addEventListener("mousedown", (e) => {
    //     e.preventDefault();
    //     pressed = true;
    //     startX = e.offsetX - innerContainer.offsetLeft;
    //     container.style.cursor = "grabbing";
    //     console.log("mousedown", container.style.cursor, pressed);
    // });
    
    // container.addEventListener("mouseenter", (e) => {
    //     e.preventDefault();
    //     container.style.cursor = "grab";
    //     console.log("mouseenter",  container.style.cursor, pressed);
    // });
    
    // container.addEventListener("mouseup", (e) => {
    //      e.preventDefault();
    //     container.style.cursor = "grab";
    //     pressed = false;
    //     console.log("mouseup",  container.style.cursor, pressed);
    // });
    
    // container.addEventListener("mousemove", (e) => {
    //     if (!pressed) return;
    //     e.preventDefault();
    
    //     console.log("mousemove-start", pressed, innerContainer.style.left)
    //     x = e.offsetX;
    //     innerContainer.style.left = `${x - startX}px`;
    //     console.log("mousemove", pressed)
    // });

    ////////////

     container.addEventListener("touchstart", (e) => {
        pressed = true;
        var rect = event.target.getBoundingClientRect()
        var offsetX = (event.touches[0].clientX - window.pageXOffset - rect.left) 
        // startX = e.offsetX - innerContainer.offsetLeft;
        startX = offsetX - innerContainer.offsetLeft;
        container.style.cursor = "grabbing";
        console.log("touchstart", container.style.cursor, pressed, offsetX, innerContainer.offsetLeft);
    });
    
    // container.addEventListener("mouseenter", () => {
    //     container.style.cursor = "grab";
    //     console.log("mouseenter",  container.style.cursor, pressed);
    // });
    
    container.addEventListener("touchend", () => {
        container.style.cursor = "grab";
        pressed = false;
        console.log("touchend",  container.style.cursor, pressed);
    });
    
    container.addEventListener("touchmove", (e) => {
        if (!pressed) return;
        e.preventDefault();
    
        console.log("touchmove-start", pressed, innerContainer.style.left)
        var rect = event.target.getBoundingClientRect()
        var offsetX = (event.touches[0].clientX - window.pageXOffset - rect.left) 
        // x = e.offsetX;
        x = offsetX
        innerContainer.style.left = `${x - startX}px`;
        console.log("touchmove", pressed, innerContainer.style.left)
    });
    
    let boundItems = () => {
        let outer = container.getBoundingClientRect();
        let inner = innerContainer.getBoundingClientRect();
  
    
        if (parseInt(innerContainer.style.left) > 0) {
        innerContainer.style.left = "0px";
        }
    
        if (inner.right < outer.right) {
        innerContainer.style.left = `-${inner.width - outer.width}px`;
        }
    };
    
    // container.addEventListener("mousemove", (e) => {
    //     console.log("mousemove-start", e, innerContainer.style.left);
    //     if (!pressed) return;
    //     e.preventDefault();
    
    //     x = e.offsetX;
    //     innerContainer.style.left = `${x - startX}px`;
    //     console.log("mousemove", e, innerContainer.style.left);
    //     boundItems();
    // });
     container.addEventListener("touchmove", (e) => {
        console.log("touchmove-start", e,innerContainer.style.left);
        if (!pressed) return;
        e.preventDefault();

        var rect = event.target.getBoundingClientRect()
        var offsetX = (event.touches[0].clientX - window.pageXOffset - rect.left) 
    
        // x = e.offsetX;
        x = offsetX;
        innerContainer.style.left = `${x - startX}px`;
        console.log("touchmove", e,innerContainer.style.left, x, startX);
        boundItems();
    });
    </script>



    
  </body>


<!-- END GTM NoScript -->

</html>
